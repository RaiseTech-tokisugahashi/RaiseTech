# 第三回講義
## AP サーバーについて
APサーバーについて調査した内容と簡単な検証結果を以下に記載する。  
### APサーバーとは  
Web3層構造と呼ばれるWebシステムで、アプリケーションプログラムを動作させるサーバのこと。  
WebブラウザからWebサーバへの通信で、動的コンテンツを閲覧（例えばネットショッピング）する際は
Webサーバ単独でサービスを提供しているのではなくWebサーバ、APサーバ、DBサーバの3つのサーバで
Webサービスを提供している。  
  
APサーバはWeb3層構造の中間に位置し、Webブラウザからのリクエストを処理するWebサーバからの要求
を受けてプログラムを実行したり、必要に応じてDBサーバへの問い合わせや書き込み処理をし、処理結果を
Webサーバへ提供する役割を担っている。  
  
APサーバは使用するプログラミング言語により大きく4種類に分類できる。  
 
| プログラミング言語 | APサーバー |
| :--- | :--- |
| Java | Apache Tomcat、WebLogic Server |
| Ruby | Puma、Unicorn |
| PHP | Apacheに拡張モジュール（mod_php）をインストールすることで動的処理が実行可能 |
| Python | Apacheに拡張モジュール（mod_wsgi）をインストールすることで動的処理が実行可能 |
  
今回使用したRubyのアプリケーションはAPサーバー'puma'を使用している。  
Puma（ピューマ）はMongrel（Webサーバー）から派生したWebサーバで、Evan Phoenixによって開発された。速度ならびにメモリの効率的な利用を重視している。  
  
  
### 検証実施  
– AP サーバーの名前とバージョンを確認  
puma (5.6.5)  
– AP サーバーの起動/終了時のアクセス確認  
APサーバー起動時にはアクセス可能、終了時にはエラーページが表示された。  
  
  
## DB サーバーについて  
DBサーバーについて調査した内容と簡単な検証結果を以下に記載する。  
### DBサーバーとは  
DBサーバ（データベースサーバ）とは、データを一元管理し、データの検索、更新、保存、バックアップを行うサーバのこと。  
Web3層構造のWebシステムでは最下層に位置し、APサーバからの要求に基づきデータの検索やデータの更新（追加、修正、削除）を行っている。  
  
今回使用したMySQL は、もっとも普及しているオープンソース SQL データベース管理システムで、オラクル社により開発、流通、およびサポートが行われている。  
MySQLには以下の特徴があると言われている。  
  
– オープンソースである（ソースコードが公開され、無償で利用できる）  
– さまざまなOSに対応している（Windows, Mac, Linux, Solaris）  
– 小規模から大規模なシステムまで柔軟に対応できる  
– 活用したソフトウェアやアプリなどの開発が容易  
  
### 検証実施  
– サンプルアプリケーションで使った DB サーバーの名前と、Cloud9 で動作
しているバージョンを確認  
  
サンプルアプリケーション：  
$ mysql --version  
mysql  Ver 8.0.34 for Linux on x86_64 (MySQL Community Server - GPL)  
  
Cloud9で動作：  
$ mysql --version  
mysql  Ver 15.1 Distrib 10.2.38-MariaDB, for Linux (x86_64) using  EditLine wrapper  
  
– DB サーバーを終了させた場合のアクセス確認  
エラー画面が表示される。（Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock'と表示される）  
  
  
## Rails の構成管理ツールについて  
  
名前： yarn  
  
  
## 今回の課題から学んだこと  
今回の課題においてはエラーや問題を解決することが必要となりましたが、エラー等を解決することにより記憶の定着や仕組みの理解が進みました。  
具体的にはMarkdownの記述方式、DBサーバーのソケットファイルのパス、実行ファイルへの権限付与、yarnのインストール時にgオプションを付けてパスを通すこと等。  
また、下準備として行なったEBSの拡張についてもAWSならではの確認事項（インスタンスがNitro ベース or Xenベース）があり勉強になりました。  
